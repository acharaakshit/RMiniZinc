---
title: "MiniZinc Interface with R"
author: Akshit Achara 
date: "`r Sys.Date()`"
output: 
  rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{R functionalities to use MiniZinc}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---


## Introduction

This is a package which is aimed to provide functionalities to R users to be able to use MiniZinc.
MiniZinc can be used to solve integer programming,knapsack and binpacking,graph algorithms and 
network flows,assignment problems,resource scheduling or planning, routing (incl mid-sized TSP)
and other constraint satisfaction problems.

The current implementation includes functionalities to create a basic model file(.mzn file) and get the results. 

## Problem 1(Satisfaction)

A satisfaction problem described on page 5 of the MiniZinc manual has been solved below.The manual is stored in the data folder.The problem is to colour 7 Australian states with three different colours.The decision variables are different states and all have the range of 1 to 3 which means that they can take one of the three colours. More details can be seen from the pdf.



### Create the Model File

```{r, echo=FALSE}
library(rminizinc)
model <- tempfile(fileext=".mzn" )
```
```{r}
par1_type <- "int"
par1_name <- "n"
par1_value <- 5
new_param(model = model,par_name =  par1_name,par_type = par1_type, single_par_val = par1_value)
single_dec_var_names <- c("wa","nt","sa","q","nsw","v","t")
single_dec_var_ranges <- list(c(1,3),c(1,3),c(1,3),c(1,3),c(1,3),c(1,3),c(1,3))
create_decision_vars(model = model,single_dec_var_names,single_dec_var_ranges)
constraint_list <- c("wa != nt","wa != sa","nt != sa","nt != q","sa != q","sa != nsw","sa != v","q != nsw","nsw != v")
setup_constraints(model=model, constraint_list)
type_of_problem <- 's' #satisfaction problem
specify_problem(model = model, type_of_problem)
```



### Give both the input files and get the Results

Make sure that you have minizinc installed on your system and you have enabled the command line use
```{r,results='markup'}
 str_options = solver_options(statistics = TRUE)
 cat(get_mzn_results(model = model,str_options = str_options))
```
```{r, echo=FALSE, results='hide'}
 file.remove(model)
```

